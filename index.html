<!DOCTYPE html>

<html>
<head>
	
<title>Send Message to Whatsapp User without adding contact</title>    
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3mobile.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css"> 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script type="text/javascript" src="src/jquery.qrcode.js"></script>
<script type="text/javascript" src="src/qrcode.js"></script>


<script type="text/javascript">
	var ClnPhNumber;
	var Link2Execute;
	
 function OnTypingPhoneNum() {
       var PhNumbervalue = $("#PhNumber").val();
       
       //remove everythinge except digits
       ClnPhNumber = PhNumbervalue.replace(/[^\d]/g, '');
        //remove leading 00
        if(ClnPhNumber[0] == '0' && ClnPhNumber[1]== '0')  ClnPhNumber=ClnPhNumber.slice(2);
        // Add + as we had removed it earlier
        if(ClnPhNumber[0] !=  '+' )  ClnPhNumber="+"+ClnPhNumber;
              
        $("#txtLink2Execute").val("https://api.whatsapp.com/send?phone="+ClnPhNumber+"&text=Hi!"); 
        Link2Execute = "https://api.whatsapp.com/send?phone="+ClnPhNumber+"&text=Hi!";
        
        // if (ClnPhNumber.length > 5) {         	
  //       document.getElementById("buttonMesg").disabled = false;
         document.getElementById("buttonMesg").innerText  = "Click to send 'Hi!' to "+ClnPhNumber;
         document.getElementById("buttonQrCd").innerText =  "Click to generate QR Code to message " + ClnPhNumber;
     //  }
  };
  
  
$(document).ready(function(){
  
    $('#buttonMesg').click(function(e) {       
        //window.location.replace($("#Link2Execute").val()); 
        window.location.replace($(Link2Execute);     
    });
    
    $('#buttonQrCd').click(function(e) {       
    	 $("#qrcodeCanvas").html("");  
         jQuery('#qrcodeCanvas').qrcode( Link2Execute);   
    });
});
</script> 
</head>
<body>
	 <h2 class="w3-center">Send Whatsapp Message to numbers</h2>
   <h3 class="w3-center">...without having to add a contact !</h3>

<form class="w3-container">	
   <div class="w3-panel w3-teal"> <p>Insert the phone number in format : <b> +&lt;countrycode&gt;&lt;Rest of digits&gt;</b> :</p> </div>  
         
       <input class="w3-input w3-border w3-round-large"  type="text" value="+60-8675-3-0-9" id="PhNumber" oninput="OnTypingPhoneNum()"> <br>
       
<br>
       <button class="w3-btn w3-indigo" type="button" id="buttonMesg" >Click to send "Hi!" on WhatsApp</button> <br><br>

       <button class="w3-btn w3-indigo" type="button" id="buttonQrCd" >Click to generate QR Code</button>
       
        <input  clss="w3-input w3-border w3-round-large"  type="text" value="Debug Info" id="txtLink2Execute" size="80">


<br>
<br>
<div id="qrcodeCanvas"></div>
</form>



<br><br><br><br><br><br>
<div align="right"><font size="2" color="red"><a href="https://github.com/arun-ks/WhatsAppNonContactMesg">Source</a>   </font>  </div>
</body>
</html>
